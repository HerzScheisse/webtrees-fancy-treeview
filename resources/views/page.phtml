<?php

use Fisharebest\Webtrees\View;

?>

<div id="jc-fancy-treeview-page" class="jc-fancy-treeview-page col-lg-9 mx-auto">
    <span id="top" name="top"></span>
    <div class="d-flex justify-content-end mb-3">
        <a class="btn btn-primary" href="<?= e($button_url) ?>"><?= $button_text ?></a>
    </div>
    <h2 class="wt-page-title"><?= $page_title ?></h2>
    <ol class="jc-fancy-treeview-page-body list-unstyled"><?= $page_body ?></ol>

    <?php if ($generations > $limit): ?>
        <?= View($module->name() . '::pagination', [
                'tree'          => $tree,
                'module'        => $module,
                'xref'           => $xref,
                'current_page'  => $current_page,
                'total_pages'   => $total_pages
            ]) ?>
    <?php endif ?>
</div>

<?php View::push('styles') ?>
<style>
    ol.jc-fancy-treeview-page-body {
        counter-set: first-level <?= (int) ($current_page - 1) * $limit ?>;
    }
</style>
<?php View::endpush() ?>
